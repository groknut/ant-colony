
## Муравьиный алгоритм

**Для начала работы**
- склонируйте проект (`git clone`)
- перейдите в директорию (`cd ant-colony`)
- соберите зависимости (`uv sync`)
- скомпилируйте проект (`compile.bat`)
- попробуйте изменить конфигурацию и перезапустить проект (`run.bat`)

**Ic - INI-подобный синтаксис**

```ic
; ================================
; КОНФИГУРАЦИЯ АЛГОРИТМА МУРАВЬИНОЙ КОЛОНИИ
; ================================
;
; Синтаксис:
;   [секция]       - объявление секции параметров (по умолчанию `main`)
;   ключ: значение - параметр и его значение
;   ; комментарий  - строка комментария (игнорируется)
;	; если требуется вернуться из секции [graph] в секцию `main` можно просто написать `[]` или `main`
;	; в программу принимается `.ic` формат
;
; Все параметры опциональны. Некоторые значения есть в программе по умолчанию
```


**Пример конфигурации:**
```ic
; Конфигурация для муравьиного алгоритма

[graph]
; описание графа
file: ./input/1.txt ; путь к файлу
oriented: true ; ориентированный ли граф
head: false ; есть ли заголовок внутри файла

[ant]
; параметры муравья
rho: 0.05 ; скорость испарения феромонов
alpha: 1.0 ; параметр, контролирующий влияние феромона
beta: 1.0 ; параметр, контролирующий влияние привлекательности ребра

[colony]
; описание колонии

; обязательные параметры
nants: 50; количество муравьев в одной пачке
iters: 30 ; фиксированное количество итераций
Q: 10 ; количество феромонов

; необязательные параметры для алгоритма
; init: 1.0 ; начальное значение феромона (по умолчанию 1.0)
; packs: 5 ; количество пачек (по умолчанию 1 пачка)

; если мы хотим найти оптимальный путь, который не изменяется в течение n_iters итераций на значение eps
eps: 0.01 ; значение eps, на которое может измениться оптимальный путь
n_iters: 20 ; за какое количество итераций оптимальный путь не меняется

; максимальное количество итераций (по умолчанию 1000)
max_iters: 100

[output]
csv файл, в который мы записываем путь каждого муравья
output_file: ./output/output.csv
```

**Результат работы алгоритма (запуск `run.bat`)**
```bash
run project...
"1.txt" file
a       b       3
a       f       1
b       a       3
b       g       3
b       c       8
c       b       3
c       g       1
c       d       1
d       c       8
d       f       1
f       d       3
f       a       3
g       a       3
g       b       3
g       c       3
g       d       5
g       f       4
Best path length: 14
Path: f a b g c d f

Записей в таблице: 4999 (считаем от нуля)
Количество неполных путей: 1344
Количество полных путей: 3655
Количество итераций: 100
Количество муравьев на одну итерацию: 50
Найденные лучшие пути: [19. 14.]
Максимальное количество феромона на оптимальном пути: 84.2849
Минимальное количество феромона на оптимальном пути: 6.0

      Iteration  CurrentBestLength  AntId  ...  PathType     Phers  PhersOptimal
1             0               19.0      2  ...         1   6.00000        6.0000
2             0               14.0      3  ...         0   5.90526       13.9714
3             0               14.0      4  ...         0  11.29590       13.9714
4             0               14.0      5  ...         1  16.36190       14.8497
5             0               14.0      6  ...         1  14.84970       14.8497
...         ...                ...    ...  ...       ...       ...           ...
4995         99               14.0   4996  ...         0  65.47610       82.6800
4996         99               14.0   4997  ...         1  64.38590       82.2147
4997         99               14.0   4998  ...         1  66.91390       82.2147
4998         99               14.0   4999  ...         1  63.90740       81.7931
4999         99               14.0   5000  ...         0  42.74130       81.7931

[4999 rows x 8 columns]
           CurrentBestLength   AntId  ...      Phers  PhersOptimal
Iteration                             ...
0                  14.102041    26.0  ...  42.191746     49.823996
1                  14.000000    75.5  ...  68.319158     80.171016
2                  14.000000   125.5  ...  66.832242     81.269272
3                  14.000000   175.5  ...  66.804718     80.807126
4                  14.000000   225.5  ...  69.215560     80.608222
...                      ...     ...  ...        ...           ...
95                 14.000000  4775.5  ...  66.352178     78.699782
96                 14.000000  4825.5  ...  67.039702     78.092130
97                 14.000000  4875.5  ...  70.527330     80.160058
98                 14.000000  4925.5  ...  67.704052     81.496082
99                 14.000000  4975.5  ...  67.797706     80.324384

[100 rows x 6 columns]
```

![Процесс работы алгоритма](./output/graphic.png)

<div align="center">
<img src="./output/mean-graphic.png" alt="Процесс работы алгоритма (параметры усреднены по итерациям)">
</div>

**Описание работы:**
![Работа алгоритма](ant-algorithm.svg)
